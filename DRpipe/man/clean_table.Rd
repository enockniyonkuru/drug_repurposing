% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/processing.R
\name{clean_table}
\alias{clean_table}
\title{Clean and map a DEG table to Entrez IDs}
\usage{
clean_table(
  x,
  gene_key = "X",
  logFC_key = "avg_log2FC",
  logFC_cutoff = 0.25,
  pval_key = "p_val_adj",
  pval_cutoff = 0.05,
  db_gene_list
)
}
\arguments{
\item{x}{data.frame; a DEG table containing a gene column and a logFC column.}

\item{gene_key}{character; column name for gene symbols. Default: \code{"X"}.}

\item{logFC_key}{character; column name for log fold-change values.
Default: \code{"avg_log2FC"}.}

\item{logFC_cutoff}{numeric; absolute logFC threshold. Default: \code{0.25}.}

\item{pval_key}{character or \code{NULL}; column name for adjusted p-values,
or \code{NULL} if no p-values are available. Default: \code{"p_val_adj"}.}

\item{pval_cutoff}{numeric; adjusted p-value cutoff when \code{pval_key} is
not \code{NULL}. Default: \code{0.05}.}

\item{db_gene_list}{vector; Entrez IDs defining the target gene universe
(e.g., the set of genes present in the perturbation database).}
}
\value{
data.frame with two columns: \code{GeneID} (Entrez) and \code{logFC}
(filtered and aligned to the reference gene universe).
}
\description{
Filters by (optional) adjusted p-value and absolute log fold-change,
maps gene symbols to Entrez IDs via g:Profiler, and retains only genes present
in a provided reference gene universe (e.g., CMap).
}
\details{
This function processes a single DEG table at a time. Gene symbols are mapped
to Entrez IDs using \code{gprofiler2::gconvert()}. Rows that fail mapping or
fall outside the provided gene universe are removed.
}
\seealso{
\code{\link{query_score}}, \code{\link{random_score}}, \code{\link{query}}
}
